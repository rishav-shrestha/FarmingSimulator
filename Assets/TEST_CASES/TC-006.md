# Test Case — TC-006: Does the crop die if left without harvesting for a while
**Priority:** Medium  
**Type:** PlayMode  
**Owner:** Rishav Shrestha  
**Status:** Ready

## Objective
Verify crops transition to a withered/dead state when left unharvested past their allowed harvest window or decay period. Confirm state, visuals, inventory behavior, timestamps, and save/load persistence match design.

## Preconditions
- Scene: `GameScene` with active `TileManager` and `FarmTile`s.  
- `CropDatabase` contains crops with configured harvest windows or decay times.  
- Crop prefabs include withered/dead visuals and `Crop`/`FarmTile` scripts support a withered state.  
- Player inventory (`Inventory`) accessible.  
- Console cleared before test.

## Test Data
- Decay times: use different short decay value for rapid verification (document value used).  
- yields of dead crops.  
- Visual/state match: immediate update to withered sprite/state on expiry.

## Steps (Given–When–Then)
**Given** a "FarmTile with a fully grown crop and a configured decay timer."
**When** the crop remains unharvested past the decay timer.
**Then** the crop should transition to the dead state.
**Given** a withered/dead crop on a `FarmTile`.
**When** the player inspects the crop or attempts to harvest it.
**Then** the inventory should not receive harvest yields .
**Given** a crop that has decayed to the withered state.
**Then** the crop's visual state should be updated immediately.

## Expected Results
- Crops move to the dead state after x amount of time.  
- Visual change of the dead crop is immediate.  
- Yield on harvesting a dead crop is zero.
- Save/load preserves timestamps and state; design-specific realtime vs game-time behavior documented and validated.  
- No console errors, exceptions, or unstable behavior.

## Notes
- Clarify whether decay uses realtime (wall clock) or game-time (affected by `Time.timeScale`) and test accordingly.  
- Automate with PlayMode tests by mocking time providers or advancing internal timers where possible.  

## Cleanup
- Destroy test crops/tiles or reload `Game` scene.  
- Restore any modified `CropData` test values.  
- Clear console logs.

## Dependencies / Related Tests
- Follows: TC-007 
- Related: TC-003